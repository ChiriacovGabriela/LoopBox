{% extends 'base.html.twig' %}

{% block title %}PlaylistController!{% endblock %}

{% block body %}

    {% include "partials/nav_bar.html.twig" %}

    <div class="jumbotron text-center background_playlist">

        <div class="container">
            <h1 class="red-color neon center title">Playlist {{ playlist.name }}</h1>

            {% if playlist.imageFileName == null %}
                <img src="https://cdn.dribbble.com/users/1752437/screenshots/14183305/ep_4x.png" alt="Music Note"
                     width="250" height="200">
            {% else %}
                <img src="{{ asset('uploads/images/'~playlist.imageFileName) }}" alt="Music Note" width="250"
                     height="200">
            {% endif %}

            <p>
                <button type="button" class="btn btn-outline-light btn_space btn_margin" data-toggle="modal"
                        data-target="#exampleModalLong">
                    Add Song
                </button>

                <a href="{{ path('app_playlist_edit',{id: playlist.id}) }}" class="btn btn-outline-light btn_margin">Edit
                    playlist</a>


                {{ include('playlist/_delete_form.html.twig') }}

            <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog"
                 aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content color_popup2">
                        <div class="modal-header color_popup">
                            <h5 class="modal-title red-color" id="exampleModalLongTitle">All songs</h5>
                            <button type="button" class="close btn_add_close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="filtre white">
                            <p>Select by type</p>
                            <form id="filters">
                                <div class="form-check form-check-inline">
                                    <input type="checkbox" name="type[]" id="rap" value="rap">
                                    <label for="rap">Rap</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="checkbox" name="type[]" id="pop" value="pop">
                                    <label for="pop">Pop</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="checkbox" name="type[]" id="metal" value="metal">
                                    <label for="metal">Metal</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="checkbox" name="type[]" id="rock" value="rock">
                                    <label for="rock">Rock</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="checkbox" name="type[]" id="classical music" value="classical music">
                                    <label for="classical music">Classical Music</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="checkbox" name="type[]" id="jazz" value="jazz">
                                    <label for="jazz">Jazz</label>
                                </div>
                            </form>
                        </div>
                        <div class="modal-body">

                            <table class="table">
                                <thead>
                                <tr class="white">
                                    <th class="td1">Title</th>
                                    <th class="td1">Artist</th>
                                    <th class="td1">Type</th>
                                    <th class="td1"></th>
                                </tr>
                                </thead>

                                <tbody id="content">
                                {% include "playlist/_content.html.twig" %}
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
            </p>
        </div>

        <table class="table">
            <thead>
            <tr class="white">
                <th>Title</th>
                <th>Artist</th>
                <th>Type</th>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            {% for song in playlist.songs %}
                <tr class="white">
                    <td>{{ song.name }}</td>
                    <td>{{ song.artist }}</td>
                    <td>{{ song.type }}</td>
                    <td>
                        <button class="btn btn-outline-light">
                            <a href="{{ path('app_playlist_player', {'playlistId': playlist.id, 'songId':song.id}) }}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-caret-right white_hover" viewBox="0 0 16 16">
                                    <path d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"/>
                                </svg>
                            </a>
                        </button>
                    </td>
                    <td>
                        <a class="btn btn-outline-light"
                           href= {{ path('delete_song_playlist', {'playlistId': playlist.id, 'songId': song.id}) }}>Delete</a>
                    </td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
    </div>

    {% block javascripts %}
        <script src="{{ asset("js/filters.js") }}"></script>
    {% endblock %}
{% endblock %}